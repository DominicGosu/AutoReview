(function(){"use strict";var e={2383:function(e,t,i){var n=i(9242),l=i(3396),r=i(7139);const a={class:"content"},o=(0,l._)("div",{class:"navbar"},[(0,l._)("div",{class:"logo"},"AutoReview")],-1),s={class:"main-content"},c={key:0,class:"file-list"},d={class:"content-view"},u=(0,l._)("div",{class:"title-drop"},"Kéo và thả file vào đây",-1),v=(0,l._)("div",{class:"title-or"},"hoặc",-1),f={class:"drop-zone-button","data-message":"selectFiles"},p=(0,l.Uk)(" Chọn file "),h={class:"button-navbar"},g={class:"content-editor"},m={key:0,class:"parse-code"},F=(0,l.Uk)("        "),w=(0,l.Uk)("\r\n      "),y={class:"message-view"},b={class:"message-item"},k=["onClick"];function D(e,t,i,D,_,O){const C=(0,l.up)("tree"),j=(0,l.up)("prism-editor");return(0,l.wg)(),(0,l.iD)("div",a,[o,(0,l._)("div",s,[e.filesList.length>0?((0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(C,{data:O.filesPaths,activeFile:e.activeFile,"onUpdate:activeFile":t[0]||(t[0]=t=>e.activeFile=t),onOnActiveFile:O.reviewSingleFile},null,8,["data","activeFile","onOnActiveFile"])])):(0,l.kq)("",!0),(0,l._)("div",d,[(0,l._)("div",{class:"drop-zone",onDrop:t[2]||(t[2]=(0,n.iM)(((...e)=>O.onDropFile&&O.onDropFile(...e)),["prevent"]))},[u,v,(0,l._)("label",f,[p,(0,l._)("input",{type:"file",onChange:t[1]||(t[1]=(...e)=>O.inputFile&&O.inputFile(...e)),class:"file-input",ref:"inputfile",webkitdirectory:"",multiple:""},null,544)])],32),(0,l._)("div",h,[(0,l._)("button",{class:"btn button-primary",onClick:t[3]||(t[3]=(...e)=>O.reviewMultiple&&O.reviewMultiple(...e))}," Review nhiều file "),(0,l._)("button",{class:"btn button-primary",onClick:t[4]||(t[4]=(...e)=>O.getCode&&O.getCode(...e))}," Review "),(0,l._)("button",{class:"btn button-primary",onClick:t[5]||(t[5]=(...e)=>O.clearCode&&O.clearCode(...e))},"Clear"),(0,l._)("button",{class:"btn button-primary",onClick:t[6]||(t[6]=(...e)=>O.viewDataParse&&O.viewDataParse(...e))},"Xem kết quả đọc file")]),(0,l._)("div",g,[(0,l.Wm)(j,{class:"my-editor",modelValue:e.code,"onUpdate:modelValue":t[7]||(t[7]=t=>e.code=t),highlight:O.highlighter,"line-numbers":""},null,8,["modelValue","highlight"]),e.showParseData?((0,l.wg)(),(0,l.iD)("div",m,[(0,l._)("pre",null,[F,(0,l._)("code",null,(0,r.zw)(e.primaData),1),w])])):(0,l.kq)("",!0)]),(0,l._)("div",y,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.errorList,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"",key:t},[(0,l._)("div",{class:(0,r.C_)({"error-message":"error"==e.type,"warning-message":"warning"==e.type})},[(0,l._)("div",b,[(0,l._)("div",null,(0,r.zw)(`Dòng ${e.line} : `)+(0,r.zw)(e.message),1),(0,l._)("div",{class:"message-file-link",onClick:t=>O.readFile(e.file)},(0,r.zw)(e.file.webkitRelativePath),9,k)])],2)])))),128))])])])])}var _=i(7977),O=i(4806),C=i.n(O),j=i(2549);i(9525),i(7372);const L={class:"tree"},A={class:"tree-list"};function P(e,t,i,n,r,a){const o=(0,l.up)("node-tree");return(0,l.wg)(),(0,l.iD)("div",L,[(0,l._)("ul",A,[(0,l.Wm)(o,{node:i.data,activeFile:i.activeFile,onOnActiveFile:a.activeItem},null,8,["node","activeFile","onOnActiveFile"])])])}const T={class:"node-tree"},E={key:0,class:"node-folder"},x={key:1,class:"node-file"},I={key:0};function z(e,t,i,n,a,o){const s=(0,l.up)("node-tree",!0);return(0,l.wg)(),(0,l.iD)("li",T,[(0,l._)("div",{class:(0,r.C_)(["node",{active:i.node.fileItem==i.activeFile&&!o.isFolder}]),onClick:t[0]||(t[0]=e=>o.onClick(i.node))},[o.isFolder?((0,l.wg)(),(0,l.iD)("span",E,(0,r.zw)(i.node.name),1)):((0,l.wg)(),(0,l.iD)("span",x,(0,r.zw)(i.node.name),1))],2),o.isFolder?((0,l.wg)(),(0,l.iD)("ul",I,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.node.children,((e,t)=>((0,l.wg)(),(0,l.j4)(s,{node:e,activeFile:i.activeFile,key:t,onOnActiveFile:o.onActiveFile},null,8,["node","activeFile","onOnActiveFile"])))),128))])):(0,l.kq)("",!0)])}var B={props:{node:Object,activeFile:Object},computed:{isFolder(){return this.node.children&&this.node.children.length}},methods:{onClick(e){let t=this;t.isFolder||t.onActiveFile(e)},onActiveFile(e){let t=this;t.$emit("onActiveFile",e)}}},R=i(89);const $=(0,R.Z)(B,[["render",z],["__scopeId","data-v-909cdc12"]]);var M=$,U={props:{data:{type:Object},activeFile:{type:Object}},components:{nodeTree:M},methods:{activeItem(e){let t=this;t.$emit("update:activeFile",e.fileItem),t.$emit("onActiveFile",e.fileItem)}}};const q=(0,R.Z)(U,[["render",P]]);var S=q,V=i(6555),K={components:{PrismEditor:_.h,tree:S},computed:{filesPaths(){let e=this,t={};return e.filesList.length>0&&C().forEach(e.filesList,(e=>{let i=e.webkitRelativePath.split("/"),n=null;for(let l=0;l<i.length;l++)if(0==l){let r=i[l];t.name=r,t.fileItem=e,n=t}else if(n){let t=i[l];n.children=n.children||[];let r=n.children.find((e=>e.name==t));if(r)n=r;else{let i={name:t,fileItem:e};n.children.push(i),n=i}}})),t}},mounted(){let e=this;const t=["dragenter","dragover","dragleave","drop"];t.forEach((t=>{document.body.addEventListener(t,e.preventDefaults)}))},unmounted(){let e=this;const t=["dragenter","dragover","dragleave","drop"];t.forEach((t=>{document.body.removeEventListener(t,e.preventDefaults)}))},data:()=>({code:"",fileinput:null,primaData:null,showParseData:!1,errorList:[],filesList:[],activeFile:null}),methods:{reviewMultiple(){let e=this;e.errorList=[],e.filesList&&e.filesList.length>0&&(C().forEach(e.filesList,(async t=>{await e.reviewSingleFile(t,!1)})),e.readFile(e.activeFile))},async reviewSingleFile(e,t){let i=this,n=await i.readFile(e);i.getCode(n,t)},clearCode(){let e=this;e.code="",e.$refs.inputfile.value="",e.primaData=""},viewDataParse(){let e=this;e.showParseData=!e.showParseData,e.getCode()},preventDefaults(e){e.preventDefault()},onDropFile(e){let t=this,i=e.dataTransfer.files;t.filesList=i,i&&(t.activeFile=i[0],t.readFile(t.activeFile))},highlighter(e){return(0,j.highlight)(e,j.languages.js)},inputFile(e){let t=this,i=e.target.files;t.filesList=i,i&&(t.activeFile=i[0],t.readFile(t.activeFile))},readFileText(e){let t=this;return new Promise(((i,n)=>{const l=new FileReader;l.onload=n=>{t.currentFile=e,t.code=n.target.result,i(n.target.result)},l.onerror=e=>n(e),l.readAsText(e)}))},async readFile(e){let t=this;return await t.readFileText(e)},getCode(e,t=!0){let i=this;t&&(i.errorList=[]);let n=e||i.code,l={attachComment:!1,range:!1,loc:!0,sourceType:"module"};i.primaData=V.parse(n,l),i.primaData&&i.reviewCode()},reviewCode(){let e=this;var t=[],i=[],n=[];if(e.getObjectByType(e.primaData,"type","FunctionExpression",t),t.length>0)for(let l=0;l<t.length;l++)e.getObjectByType(t[l],"type","VariableDeclarator",i),e.getObjectByType(t[l],"type","IfStatement",n),t[l].params&&t[l].params.length>0&&t[l].params.forEach((e=>{let t=C().clone(e);t.id={},t.id.name=e.name,i.push(t)}));if(i.length>0){let t=[];if(n.length>0){for(let i=0;i<n.length;i++)e.getObjectByType(n[i],"name",null,t,!0);t=t.map((e=>e.name))}let l=i.filter((e=>!t.includes(e.id.name)));if(l.length>0)for(let i=0;i<l.length;i++)this.errorList.push({type:"warning",line:l[i].loc.start.line,message:`Giá trị ${l[i].id.name} chưa kiểm tra khác null`,file:e.currentFile})}},getObjectByType(e,t,i,n,l=!1){var r=null;if(e instanceof Array)for(var a=0;a<e.length;a++)r=this.getObjectByType(e[a],t,i,n,l);else for(var o in e){if(o==t){if(e[o]==i)return l||n.push(e),e;l&&n.push(e)}(e[o]instanceof Object||e[o]instanceof Array)&&(r=this.getObjectByType(e[o],t,i,n,l))}return r}}};const W=(0,R.Z)(K,[["render",D]]);var Z=W;(0,n.ri)(Z).mount("#app")}},t={};function i(n){var l=t[n];if(void 0!==l)return l.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=e,function(){var e=[];i.O=function(t,n,l,r){if(!n){var a=1/0;for(d=0;d<e.length;d++){n=e[d][0],l=e[d][1],r=e[d][2];for(var o=!0,s=0;s<n.length;s++)(!1&r||a>=r)&&Object.keys(i.O).every((function(e){return i.O[e](n[s])}))?n.splice(s--,1):(o=!1,r<a&&(a=r));if(o){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,l,r]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,r,a=n[0],o=n[1],s=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(l in o)i.o(o,l)&&(i.m[l]=o[l]);if(s)var d=s(i)}for(t&&t(n);c<a.length;c++)r=a[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},n=self["webpackChunkauto_review"]=self["webpackChunkauto_review"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(2383)}));n=i.O(n)})();
//# sourceMappingURL=app.70e45edf.js.map